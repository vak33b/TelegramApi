–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π README.md –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å FastAPI –∏ Pyrogram:

‚∏ª


# Telegram Search API —Å Pyrogram + FastAPI

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å Telegram-–∫–ª–∏–µ–Ω—Ç —á–µ—Ä–µ–∑ Pyrogram –∫–∞–∫ –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI, –∞ –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º Telegram-–∫–∞–Ω–∞–ª–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º —Ñ–∞–π–ª–æ–≤.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

.
‚îú‚îÄ‚îÄ server.py            # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ client_auth.py       # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ Pyrogram
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md            # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îî‚îÄ‚îÄ my_account.session   # –§–∞–π–ª —Å–µ—Å—Å–∏–∏ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ requirements.txt:

fastapi
uvicorn
pyrogram
tgcrypto

2. –£–∫–∞–∂–∏ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ client_auth.py

api_id = 123456           # ‚Üê —Å–≤–æ–π API ID —Å my.telegram.org
api_hash = "abcdef123456" # ‚Üê —Å–≤–æ–π API Hash
phone = "+7..."           # ‚Üê —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä

uvicorn server:app --reload


‚∏ª

üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
	‚Ä¢	–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ Telegram.
	‚Ä¢	–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å.
	‚Ä¢	–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª my_account.session.

‚∏ª

üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (—á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ Postman):

POST /search
Content-Type: application/json

{
  "channel": "@example_channel",
  "keywords": ["python", "—É—á–µ–±–Ω–∏–∫"],
  "extensions": [".pdf", ".epub"]
}

–û—Ç–≤–µ—Ç:

{
  "found": 3,
  "results": [
    {
      "id": 12345,
      "date": "2025-07-16",
      "text": "Python for beginners",
      "file_name": "python-book.pdf"
    },
    ...
  ]
}


‚∏ª

üìÅ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–µ—Å—Å–∏–∏?

–§–∞–π–ª —Å–µ—Å—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ –∏–º–µ–Ω–µ–º, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã —É–∫–∞–∑–∞–ª –≤ Client(...). –ù–∞–ø—Ä–∏–º–µ—Ä:

client = Client("my_account", ...)

‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª my_account.session.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–±—Ä–æ—Å–∏—Ç—å —Å–µ—Å—Å–∏—é ‚Äî —É–¥–∞–ª–∏ .session-—Ñ–∞–π–ª.

‚∏ª

üß™ –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–∏—Å–∫–∞

–ï—Å–ª–∏ —Ç—ã —Å–æ–∑–¥–∞–ª –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —á–∞—Å—Ç—å:

python client.py

‚Üí –∏ –≤–≤–µ–¥—ë—à—å:
–ö–∞–Ω–∞–ª: @code_library
–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: python, fastapi
–†–∞—Å—à–∏—Ä–µ–Ω–∏—è: .pdf, .epub

–°–µ—Ä–≤–µ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–∏—Å–∫ –∏ –≤–µ—Ä–Ω—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

‚∏ª

‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
	‚Ä¢	ApiIdInvalidError ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–µ api_id –∏–ª–∏ api_hash.
	‚Ä¢	database is locked ‚Äî –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π .session.
	‚Ä¢	Client is already connected ‚Äî –Ω–µ–ª—å–∑—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —É–∂–µ –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç.

‚∏ª

üìé –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ .session-—Ñ–∞–π–ª—ã:

dir *.session*

–£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é:

del my_account.session*


‚∏ª

üìå –ê–≤—Ç–æ—Ä
	‚Ä¢	–ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ FastAPI + Pyrogram
	‚Ä¢	–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Telegram-–ø–æ–∏—Å–∫–∞ (–±–æ—Ç–∞, –±–µ–∫–µ–Ω–¥–∞, —Å–µ—Ä–≤–∏—Å–∞)

---

–ï—Å–ª–∏ —Ç—ã –¥–æ–±–∞–≤–∏—à—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/logout` –∏–ª–∏ `/ping`, –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å `README.md`.

–•–æ—á–µ—à—å, –º–æ–≥—É —Ç–∞–∫–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `client.py`-–ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ `.env` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.